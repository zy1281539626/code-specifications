<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Android開發規範 | 前端框架開發規範</title>
    <meta name="description" content="A VitePress site">
    <link rel="stylesheet" href="/code-specifications/assets/style.28d6840e.css">
    <link rel="modulepreload" href="/code-specifications/assets/app.f24e6be2.js">
    <link rel="modulepreload" href="/code-specifications/assets/aos_index.md.bf25f15c.lean.js">
    
    <script id="check-dark-light">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-f44a984a><!--[--><!--]--><!--[--><span tabindex="-1" data-v-151f2593></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-151f2593> Skip to content </a><!--]--><!----><header class="VPNav" data-v-f44a984a data-v-a50780ff><div class="VPNavBar has-sidebar" data-v-a50780ff data-v-6f1d18b5><div class="container" data-v-6f1d18b5><div class="VPNavBarTitle has-sidebar" data-v-6f1d18b5 data-v-d5925166><a class="title" href="/code-specifications/" data-v-d5925166><!--[--><!--]--><!----><!--[-->前端框架開發規範<!--]--><!--[--><!--]--></a></div><div class="content" data-v-6f1d18b5><!--[--><!--]--><!----><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-6f1d18b5 data-v-f83db6ba><span id="main-nav-aria-label" class="visually-hidden" data-v-f83db6ba>Main Navigation</span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/code-specifications/h5/index.html" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->H5規範<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/code-specifications/ios/index.html" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->iOS規範<!--]--><!----></a><!--]--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/code-specifications/aos/index.html" data-v-f83db6ba data-v-47a2263e data-v-3c355974><!--[-->AOS規範<!--]--><!----></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-6f1d18b5 data-v-a3e7452b><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-a3e7452b data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-6f1d18b5 data-v-e4361c82 data-v-6ffb57d3><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-6ffb57d3><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="icon" data-v-6ffb57d3><circle cx="12" cy="12" r="2"></circle><circle cx="19" cy="12" r="2"></circle><circle cx="5" cy="12" r="2"></circle></svg></button><div class="menu" data-v-6ffb57d3><div class="VPMenu" data-v-6ffb57d3 data-v-1c5d0cfc><!----><!--[--><!--[--><!----><div class="group" data-v-e4361c82><div class="item appearance" data-v-e4361c82><p class="label" data-v-e4361c82>Appearance</p><div class="appearance-action" data-v-e4361c82><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" aria-label="toggle dark mode" aria-checked="false" data-v-e4361c82 data-v-481098f9 data-v-eba7420e><span class="check" data-v-eba7420e><span class="icon" data-v-eba7420e><!--[--><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="sun" data-v-481098f9><path d="M12,18c-3.3,0-6-2.7-6-6s2.7-6,6-6s6,2.7,6,6S15.3,18,12,18zM12,8c-2.2,0-4,1.8-4,4c0,2.2,1.8,4,4,4c2.2,0,4-1.8,4-4C16,9.8,14.2,8,12,8z"></path><path d="M12,4c-0.6,0-1-0.4-1-1V1c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,3.6,12.6,4,12,4z"></path><path d="M12,24c-0.6,0-1-0.4-1-1v-2c0-0.6,0.4-1,1-1s1,0.4,1,1v2C13,23.6,12.6,24,12,24z"></path><path d="M5.6,6.6c-0.3,0-0.5-0.1-0.7-0.3L3.5,4.9c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C6.2,6.5,5.9,6.6,5.6,6.6z"></path><path d="M19.8,20.8c-0.3,0-0.5-0.1-0.7-0.3l-1.4-1.4c-0.4-0.4-0.4-1,0-1.4s1-0.4,1.4,0l1.4,1.4c0.4,0.4,0.4,1,0,1.4C20.3,20.7,20,20.8,19.8,20.8z"></path><path d="M3,13H1c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S3.6,13,3,13z"></path><path d="M23,13h-2c-0.6,0-1-0.4-1-1s0.4-1,1-1h2c0.6,0,1,0.4,1,1S23.6,13,23,13z"></path><path d="M4.2,20.8c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C4.7,20.7,4.5,20.8,4.2,20.8z"></path><path d="M18.4,6.6c-0.3,0-0.5-0.1-0.7-0.3c-0.4-0.4-0.4-1,0-1.4l1.4-1.4c0.4-0.4,1-0.4,1.4,0s0.4,1,0,1.4l-1.4,1.4C18.9,6.5,18.6,6.6,18.4,6.6z"></path></svg><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="moon" data-v-481098f9><path d="M12.1,22c-0.3,0-0.6,0-0.9,0c-5.5-0.5-9.5-5.4-9-10.9c0.4-4.8,4.2-8.6,9-9c0.4,0,0.8,0.2,1,0.5c0.2,0.3,0.2,0.8-0.1,1.1c-2,2.7-1.4,6.4,1.3,8.4c2.1,1.6,5,1.6,7.1,0c0.3-0.2,0.7-0.3,1.1-0.1c0.3,0.2,0.5,0.6,0.5,1c-0.2,2.7-1.5,5.1-3.6,6.8C16.6,21.2,14.4,22,12.1,22zM9.3,4.4c-2.9,1-5,3.6-5.2,6.8c-0.4,4.4,2.8,8.3,7.2,8.7c2.1,0.2,4.2-0.4,5.8-1.8c1.1-0.9,1.9-2.1,2.4-3.4c-2.5,0.9-5.3,0.5-7.5-1.1C9.2,11.4,8.1,7.7,9.3,4.4z"></path></svg><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-6f1d18b5 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div><!----></header><div class="VPLocalNav" data-v-f44a984a data-v-b6162a8b><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-b6162a8b><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" focusable="false" viewbox="0 0 24 24" class="menu-icon" data-v-b6162a8b><path d="M17,11H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,11,17,11z"></path><path d="M21,7H3C2.4,7,2,6.6,2,6s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,7,21,7z"></path><path d="M21,15H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h18c0.6,0,1,0.4,1,1S21.6,15,21,15z"></path><path d="M17,19H3c-0.6,0-1-0.4-1-1s0.4-1,1-1h14c0.6,0,1,0.4,1,1S17.6,19,17,19z"></path></svg><span class="menu-text" data-v-b6162a8b>Menu</span></button><a class="top-link" href="#" data-v-b6162a8b> Return to top </a></div><aside class="VPSidebar" data-v-f44a984a data-v-a186aa16><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-a186aa16><span class="visually-hidden" id="sidebar-aria-label" data-v-a186aa16> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="group" data-v-a186aa16><section class="VPSidebarGroup" data-v-a186aa16 data-v-6e45c352><!----><div class="items" data-v-6e45c352><!--[--><!--[--><a class="VPLink link link" href="/code-specifications/h5/index.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>H5開發規範</span><!--]--><!----></a><!--[--><!--[--><a class="VPLink link link" href="/code-specifications/h5/app/app.html" style="padding-left:16px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text light" data-v-36b976d1>APP交互文檔</span><!--]--><!----></a><!----><!--]--><!--]--><!--]--><!--[--><a class="VPLink link link" href="/code-specifications/ios/index.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>iOS開發規範</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/code-specifications/aos/index.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>Android開發規範</span><!--]--><!----></a><!----><!--]--><!--[--><a class="VPLink link link" href="/code-specifications/gitflow/index.html" style="padding-left:0px;" data-v-36b976d1 data-v-3c355974><!--[--><span class="link-text" data-v-36b976d1>GitFlow工作流</span><!--]--><!----></a><!----><!--]--><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-f44a984a data-v-d981fe29><div class="VPDoc has-sidebar has-aside" data-v-d981fe29 data-v-cfb513e0><div class="container" data-v-cfb513e0><div class="aside" data-v-cfb513e0><div class="aside-curtain" data-v-cfb513e0></div><div class="aside-container" data-v-cfb513e0><div class="aside-content" data-v-cfb513e0><div class="VPDocAside" data-v-cfb513e0 data-v-afc4c1a1><!--[--><!--]--><!--[--><!--]--><div class="VPDocAsideOutline" data-v-afc4c1a1 data-v-2865c0b0><div class="content" data-v-2865c0b0><div class="outline-marker" data-v-2865c0b0></div><div class="outline-title" data-v-2865c0b0>章节目录</div><nav aria-labelledby="doc-outline-aria-label" data-v-2865c0b0><span class="visually-hidden" id="doc-outline-aria-label" data-v-2865c0b0> Table of Contents for current page </span><ul class="root" data-v-2865c0b0 data-v-1188541a><!--[--><!--]--></ul></nav></div></div><!--[--><!--]--><div class="spacer" data-v-afc4c1a1></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-cfb513e0><div class="content-container" data-v-cfb513e0><!--[--><!--]--><main class="main" data-v-cfb513e0><div style="position:relative;" class="vp-doc _code-specifications_aos_index" data-v-cfb513e0><div><h1 id="android開發規範" tabindex="-1">Android開發規範 <a class="header-anchor" href="#android開發規範" aria-hidden="true">#</a></h1><p>規約依次分為<strong>強制、推薦、參考</strong>三大類</p><ul><li>【強制】必須遵守，違反本約定或將會引起嚴重的後果；</li><li>【推薦】儘量遵守，長期遵守有助於系統穩定性和合作效率的提升；</li><li>【參考】充分理解，技術意識的引導，是個人學習、團隊溝通、項目合作的方向。</li></ul><h1 id="_1-java語言規範" tabindex="-1">1. Java語言規範 <a class="header-anchor" href="#_1-java語言規範" aria-hidden="true">#</a></h1><h2 id="_1-1-命名風格" tabindex="-1">1.1 命名風格 <a class="header-anchor" href="#_1-1-命名風格" aria-hidden="true">#</a></h2><p>（1）禁止拼音：【強制】代碼的命名嚴禁出現拼音，更不允許直接用中文的方式。</p><p>（2）類名：【強制】使用UpperCamelCase風格，但以下情況例外：DO / BO / DTO / UID等等。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例:MarcoPolo / UserDO / XmlService / TcpUdpDeal / TaPromotion</span></span>
<span class="line"><span style="color:#A6ACCD;">反例:macroPolo / UserDo / XMLService / TCPUDPDeal / TAPromotion</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（3）抽象類：【強制】命名使用<strong>Abstract</strong> 或 <strong>Base</strong>開頭</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例: BaseActivity，AbstractFactory</span></span>
<span class="line"><span style="color:#A6ACCD;">反例: OriginActivity,OriginFactory</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（4）接口：</p><p>【強制】使用UpperCamelCase風格，但必須冠以<strong>前綴 I</strong> 。</p><p>【推荐】實現類則去掉前綴I，添加後綴Impl。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例:IPayInterface，BankPayImpl</span></span>
<span class="line"><span style="color:#A6ACCD;">反例:PayInterface，BankPay</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（5）方法名、參數名、成員變量、局部變量：</p><p>【強制】都統一使用lowerCamelCase風格，必須遵守<strong>駝峰</strong>形式。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例: localValue / getHttpMessage() / inputUserId</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（6）常量：【強制】命名全部大寫，單詞間全部以下劃線分開，力求語義完整</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例: MAX_STOCK_COUNT</span></span>
<span class="line"><span style="color:#A6ACCD;">反例:MAX_COUNT，MAXCOUNT</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（7）POJO類中布爾類型：【推荐】POJO類中布爾類型的變量，都不要加is前綴</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">反例:</span></span>
<span class="line"><span style="color:#A6ACCD;">定義為基本數據類型Boolean isDeleted的屬性，它的方法也是isDeleted()，RPC框架在反向解析的時候，“誤以為”對應的屬性名稱是 deleted，導致屬性獲取不到，進而拋出異常。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（8）異常類命名使用Exception結尾；測試類命名以它要測試的類的名稱開始，以Test結尾。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例: OutOfMemoryException，PhonePayTest</span></span>
<span class="line"><span style="color:#A6ACCD;">反例: OutOfMemoryErr，TestPhonePay</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（9）包名：【強制】<strong>統一使用小寫</strong>,點分隔符號之間有且只有一個自然語義的英語單詞。包名統一使用單數形式，但是類名如果有複數含義，類名可以使用複數形式。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">com</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">hybrid</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">example</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">util</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（10）縮寫：【推薦】杜絕完全不規範的縮寫，避免望文不知義。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">ABstractClass </span><span style="color:#C792EA;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">AbsClass</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（11）含義：【強制】杜絕不知含義的方法名、參數、常量、變量等等</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">a</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">；</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> a</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> COUNT </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">5</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>（12）設計模式：【推薦】如果模塊、接口、類、方法使用了設計模式，在命名需體現出具體模式，方便讀者可快速理解架構設計理念。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">OrderFactory</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ContextProxy</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ActivityObserver</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>（13）枚舉：【參考】枚舉類名建議帶上Enum後綴，枚舉成員名稱需要全大寫，單詞間用下劃線分開。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">enum</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">ProcessStatusEnum</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    SUCCESS</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#A6ACCD;">    UNKNOWN_REASON</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>（14）【推薦】各層命名規約：</p><p>Service/DAO:</p><table><thead><tr><th>功能</th><th>方法名</th></tr></thead><tbody><tr><td>獲取一個對象</td><td>getXXX()</td></tr><tr><td>獲取多個對象</td><td>listXXX()</td></tr><tr><td>獲取統計值</td><td>countXXX()</td></tr><tr><td>插入的方法</td><td>insert/saveXXX()</td></tr><tr><td>刪除的方法</td><td>remove/delete()</td></tr><tr><td>修改的方法</td><td>updateXXX()</td></tr></tbody></table><p>領域模型層:</p><table><thead><tr><th>類型</th><th>解釋</th></tr></thead><tbody><tr><td>數據对象</td><td>xxxDO，xxx即為數據表名</td></tr><tr><td>數據传输对象</td><td>xxxDTO，xxx為業務領域相關的名稱</td></tr><tr><td>業務对象</td><td>xxxBO,xxx為相關業務的名稱</td></tr><tr><td>POJO</td><td>POJO是DO/DTO/BO/VO的統稱，禁止命名成xxxPOJO</td></tr></tbody></table><h2 id="_1-2-常量定義" tabindex="-1">1.2 常量定義 <a class="header-anchor" href="#_1-2-常量定義" aria-hidden="true">#</a></h2><p>（1）魔法值：【強制】不允許任何魔法值（即未經預先定義的常量）直接出現在代碼。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">反例：</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> cacheKey </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">cache</span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> targetId ；</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（2）Long：【強制】在long或者Long賦值時，數值後使用大寫的L,不能是大寫的l，這樣容易跟數字1混淆，造成誤解</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例：</span><span style="color:#C792EA;">long</span><span style="color:#A6ACCD;"> threshold </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000L</span><span style="color:#A6ACCD;">；</span></span>
<span class="line"><span style="color:#A6ACCD;">反例：</span><span style="color:#C792EA;">long</span><span style="color:#A6ACCD;"> threshold </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000l</span><span style="color:#A6ACCD;">；</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（3）功能歸類：【推薦】不要使用<strong>一個常量類維護所有常量</strong>，要按常量類型進行歸類，分開維護。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">反例：所有的常量都放在Constants類中管理。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（4）final：【強制】常量一定要使用final定義。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">//常量定义</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">long</span><span style="color:#A6ACCD;"> MAX_STOCK_COUNT </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">1000L</span><span style="color:#A6ACCD;">；</span></span>
<span class="line"><span style="color:#676E95;">//方法中,匿名内部类方法用到的</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">long</span><span style="color:#A6ACCD;"> threshold </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">2000L</span><span style="color:#A6ACCD;">；</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_1-3-代碼格式" tabindex="-1">1.3 代碼格式 <a class="header-anchor" href="#_1-3-代碼格式" aria-hidden="true">#</a></h2><p>（1）大括弧的使用約定：【強制】如果是大括弧內為空，則簡潔地寫成{}即可，不需要換行。如果是非空代碼的話，則：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">左大括弧前不換行。</span></span>
<span class="line"><span style="color:#A6ACCD;">左大括弧後換行。</span></span>
<span class="line"><span style="color:#A6ACCD;">右大括弧前換行。</span></span>
<span class="line"><span style="color:#A6ACCD;">右大括弧後還有else等代碼則不換行：表示終止的右大括弧後必須換行。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>（2）小括弧的使用約定：【強制】左小括號和字符之間不出現空格；同樣，右小括弧和字符之間也不出現空格；而左大括弧前需要空格。</p><p>（3）語句的使用約定：【強制】if/for/while/switch/do 等保留字與括弧之間都必須加空格。</p><p>（4）二目、三目運算符：【強制】任何二目、三目運算符的左右兩邊都需要加一個空格。</p><p>（5）縮進：【強制】<strong>採用4個空格縮進，禁止使用tab字符</strong>。 說明：如果使用tab縮進，必須設置1個tab為4個空格。</p><p>示例代碼1-5點：</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">main</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> args</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;">// 縮進 4 個空格</span></span>
<span class="line"><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> say </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;">// 運算符的左右必須有一個空格</span></span>
<span class="line"><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> flag </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#676E95;">// 關鍵字 if 與括弧之間必須有一個空格，括弧內的 f 與左括弧，0 與右括弧不需要空格 if (flag == 0) {</span></span>
<span class="line"><span style="color:#A6ACCD;">             System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">say</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">          </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#676E95;">// 左大括弧前加空格且不換行;左大括弧後換行 if (flag == 1) {</span></span>
<span class="line"><span style="color:#A6ACCD;">             System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">world</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#676E95;">// 右大括弧前換行，右大括弧後有 else，不用換行 } else {</span></span>
<span class="line"><span style="color:#A6ACCD;">             System</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">out</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">println</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ok</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#676E95;">// 在右大括弧後直接結束，則必須換行</span></span>
<span class="line"><span style="color:#A6ACCD;">} </span></span>
<span class="line"><span style="color:#A6ACCD;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>（6）注釋：【推薦】注釋的雙斜線與注釋內容之間有且僅有一個空格。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">// 這是示例注釋，請注意在雙斜線之後有一個空格</span></span>
<span class="line"><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> ygb </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">String</span><span style="color:#89DDFF;">();</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（7）方法參數：【強制】方法參數在定義和傳入時，多個參數逗號後邊必須加空格。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">下例中實參的 args1，後邊必須要有一個空格。</span></span>
<span class="line"><span style="color:#82AAFF;">method</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">args1</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args2</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args3</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（8）方法行數：【推薦】單個方法的總行數不超過80行。</p><p>（9）可讀性：【推薦】不同邏輯、不同語義、不同業務的代碼之間插入一個空行分隔開來以提升可讀性。</p><h2 id="_1-4-oop規約" tabindex="-1">1.4 OOP規約 <a class="header-anchor" href="#_1-4-oop規約" aria-hidden="true">#</a></h2><p>（1）靜態訪問：【強制】避免通過一個類的對象引用訪問此類的靜態變量或靜態方法，無謂增加編譯器解析成本，直接用類名來訪問即可</p><p>（2）@Override注解：【強制】所有覆寫方法，必須加@Override注解。</p><p>（3）@Deprecated注解：</p><p>【強制】接口/類/方法過時必須加@Deprecated注解，並清晰地說明新的接口/類/方法是什麼。</p><p>【強制】不能使用@Deprecated注解 標識的 接口/類/方法。應該去查看新的接口/類/方法是什麼，並且使用。</p><p>（4）equals方法：</p><p>【強制】Object的equals方法容易拋空指針異常，應該使用常量/確定有值的對象來調用equals方法。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例</span><span style="color:#89DDFF;">:</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equals</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">object</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">反例</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">object</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">equals</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">test</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>【強制】所有相同類型的包裝類對象之間，值的比較，全部使用equals方法。</p><p>（5）serialVersionUID字段： 【強制】序列化類新增屬性時，請不要修改 serialVersionUID 字段，避免反序列失敗;如果完全不相容升級，避免反序列化混亂，那麼請修改serialVersionUID 值。</p><p>（6）構造方法：【推薦】構造方法裡面禁止加入任何業務邏輯，如果有初始化邏輯，請放在 init 方法中。</p><p>（7）POJO類：</p><p>【推薦】POJO類必須寫toString方法。</p><p>【強制】定義POJO類時，不要設定任何屬性默認值</p><p>【強制】禁止在POJO類中，同時存在對應屬性xxx的 isXxx()和getXxx()方法</p><p>（8）重載方法排序：【推薦】當一個類有多個構造方法/多個同名方法，這些方法應該按照順序放置在一起，便於閱讀。此規則優先於(9) 規則。</p><p>（9）類中方法排序：【推薦】類內方法定義的順序依次是：公有方法/保護方法 &gt; 私有方法 &gt; getter/setter方法。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">說明:公有方法是類的調用者和維護者最關心的方法，首屏展示最好;保護方法雖然只是子類關心，也可能是“範本設計模式”下的核心方法;而私有方法外部一般不需要特別關心，是一個 黑盒實現;因為承載的信息價值較低，所有 Service 和 DAO 的 getter/setter 方法放在類體最後。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（10）setter方法：【推薦】setter 方法中，參數名稱與類成員變量名稱一致，this.成員名 = 參數名。在getter/setter 方法中，不要增加業務邏輯，增加排查問題的難度。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">反例</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Integer</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getData</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">condition</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">data </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">else</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">this.</span><span style="color:#A6ACCD;">data </span><span style="color:#89DDFF;">-</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>（11）字符串連接方式：【推薦】循環體內，字符串的連接方式，使用StringBuilder的append方法。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">反例</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> str </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">start</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">100</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            str </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> str </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">hello</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><p>（12）clone方法：</p><p>【推薦】慎用Object的clone方法拷貝對象。</p><p>說明:對象的 clone 方法默認是淺拷貝，若想實現深拷貝需要重寫 clone 方法實現域對象的 深度遍曆式拷貝。</p><p>（13）類成員與方法訪問：【推薦】類成員與方法訪問 控制從嚴。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) 如果不允許外部直接通過new來創建對象，那麼構造方法必須是private。</span></span>
<span class="line"><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">) 工具類不允許有public或default構造方法。</span></span>
<span class="line"><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">) 類非static成員變量並且與子類共用，必須是protected。</span></span>
<span class="line"><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">) 類非static成員變量並且僅在本類使用，必須是private。</span></span>
<span class="line"><span style="color:#F78C6C;">5</span><span style="color:#A6ACCD;">) 類static成員變量如果僅在本類使用，必須是private。</span></span>
<span class="line"><span style="color:#F78C6C;">6</span><span style="color:#A6ACCD;">) 若是static成員變量，考慮是否為final。</span></span>
<span class="line"><span style="color:#F78C6C;">7</span><span style="color:#A6ACCD;">) 類成員方法只供類內部調用，必須是private。</span></span>
<span class="line"><span style="color:#F78C6C;">8</span><span style="color:#A6ACCD;">) 類成員方法只對繼承類公開，那麼限制為protected。</span></span>
<span class="line"><span style="color:#A6ACCD;">說明</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">任何類、方法、參數、變量，嚴控訪問範圍。過於寬泛的訪問範圍，不利於模塊解耦。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br></div></div><h2 id="_1-5-併發處理" tabindex="-1">1.5 併發處理 <a class="header-anchor" href="#_1-5-併發處理" aria-hidden="true">#</a></h2><p>（1）線程：【強制】線程資源必須通過線程池提供，不允許自行創建線程。</p><p>（2）線程池：</p><p>【強制】項目中，必須有統一管理線程池的類，統一調用。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;"> HybridExecutor</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getInstance</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">executeCpuTask</span><span style="color:#89DDFF;">(()</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">-&gt;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">//anything</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">});</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>【推薦】不允許使用Executors去創建，而是通過ThreadPoolExecutor的方式，這樣的處理方式更加明確線程池的運行規則。</p><p>（3）單例對象： 【強制】獲取單例對象需要保證線程安全，其中的方法也要保證線程安全。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">static</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">Singleton</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getInstance</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">//第一次判空</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">mInstance </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">             </span><span style="color:#676E95;">//進入同步區域</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">synchronized</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Singleton</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">class</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">                </span><span style="color:#676E95;">//第二次判空</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">mInstance </span><span style="color:#89DDFF;">==</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                    mInstance </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Singleton</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> mInstance</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br></div></div><p>（4）鎖使用：【推薦】高併發時，同步調用應該去考量鎖的性能損耗。能不用鎖就不用鎖，能鎖區塊，就不要鎖整個方法體。能用對象鎖，就不要用類鎖。例子:(3)</p><p>（5）volatile：【參考】volatile解決多線程内存不可見問題。</p><p>（6）HashMap：【參考】HashMap在容量不夠resize時由於高併發可能出現死鏈，導致CPU飆升。可以使用其他數據結構或加鎖來規避此風險。</p><h2 id="_1-6-控制語句" tabindex="-1">1.6 控制語句 <a class="header-anchor" href="#_1-6-控制語句" aria-hidden="true">#</a></h2><p>（1）switch：【強制】在一個 switch 塊內，每個 case 要麼通過 break/return 等來終止，要麼注釋說明程序將繼續執行到哪一個case 為止;在一個 switch 塊內，都必須包含一個 default 語句並且放在最後，即使空代碼。</p><p>（2）【強制】在 if/else/for/while/do 語句中必須使用大括弧。即使只有一行代碼，避免採用單行的編碼方式:if (condition) statements;</p><p>（3）分支：</p><p>【推薦】超過3層的if-else的邏輯判斷，建議使用設計模式去處理。</p><p>【推薦】表達異常的分支，少用if-else方式，可以採用：</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">login</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">hadLogin</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">return</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">//業務邏輯代碼</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>（4）可讀性：【推薦】除常用方法(如 getXxx/isXxx)等外，不要在條件判斷中執行其他複雜的語句，將複雜邏輯判斷的結果賦值給一個有意義的布爾變量名，以提高可讀性。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#676E95;">// 偽代碼如下</span></span>
<span class="line"><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">boolean</span><span style="color:#A6ACCD;"> existed </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fileName</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...);</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">existed</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">...</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">反例</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">((</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">open</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">fileName</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">w</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&amp;&amp;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">||</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(...))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><p>（5）【推薦】避免採用取反邏輯運算符。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">使用 </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">x </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">628</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> 來表達 x 小於 </span><span style="color:#F78C6C;">628</span><span style="color:#A6ACCD;">。</span></span>
<span class="line"><span style="color:#A6ACCD;">反例</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;">使用 </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(!(</span><span style="color:#A6ACCD;">x </span><span style="color:#89DDFF;">&gt;=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">628</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> 來表達 x 小於 </span><span style="color:#F78C6C;">628</span><span style="color:#A6ACCD;">。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_1-7-注釋規約" tabindex="-1">1.7 注釋規約 <a class="header-anchor" href="#_1-7-注釋規約" aria-hidden="true">#</a></h2><p>（1）【強制】類、類方法的注釋必須使用 Javadoc 規範，使用/*<em>內容</em>/格式，不得使用// xxx方式。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例：</span></span>
<span class="line"><span style="color:#676E95;">    /**</span></span>
<span class="line"><span style="color:#676E95;">     * 暫停所有任務</span></span>
<span class="line"><span style="color:#676E95;">     */</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">pause</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"><span style="color:#A6ACCD;">反例：</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;">// 暫停所有任務</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">pause</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br></div></div><p>（2）【強制】所有的抽象方法(包括接口中的方法)必須要用 Javadoc 注釋、除了返回值、參數、 異常說明外，還必須指出該方法做什麼事情，實現什麼功能。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">說明:對子類的實現要求，或者調用注意事項，請一併說明。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>（3）【推薦】所有的類都必須添加創建者和創建時間</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">/**</span></span>
<span class="line"><span style="color:#676E95;">* </span><span style="color:#F78C6C;">@author</span><span style="color:#676E95;"> Ricky</span></span>
<span class="line"><span style="color:#676E95;">* @date 2023/10/30</span></span>
<span class="line"><span style="color:#676E95;">*/</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>（4）【強制】方法內部單行注釋，在被注釋語句上方另取一行，使用//注釋。方法內部多行注釋使用/* */注釋，注意與代碼對齊。</p><p>（5）【強制】所有枚舉類型字段必須要有注釋，說明每個數據項的用途。</p><p>（6）【強制】注釋同步更新：代碼修改的同時，注釋也要進行相應的修改，尤其是參數、返回值、異常、核心邏輯 等的修改。</p><p>（7）【參考】注釋的要求：</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">1) **能夠準確反應設計思想和代碼邏輯**;</span></span>
<span class="line"><span style="color:#A6ACCD;">2) 能夠描述業務含義，使別的程式員能夠迅速瞭解到代碼**背後的含義**。</span></span>
<span class="line"><span style="color:#A6ACCD;">即使隔很長時間，也能清晰理解當時的思路;注釋也是給繼任者看的，使其能夠快速接替自己的工作。</span></span>
<span class="line"><span style="color:#A6ACCD;">3）注釋的語言根據實際情況統一標準：要求用中文就統一使用中文，要求用英文就統一使用英文。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>（8）代辦事宜（TODO）【參考】包括信息：標記人，標記時間，預計處理時間、具體處理事件。</p><p>（9）錯誤事宜（FIXME）【參考】包括信息：標記人，標記時間，預計處理時間、具體處理事件。</p><h2 id="_1-8-異常日誌" tabindex="-1">1.8 異常日誌 <a class="header-anchor" href="#_1-8-異常日誌" aria-hidden="true">#</a></h2><p>（1）預檢查：【強制】Java 類庫中定義的可以通過預檢查方式規避的 RuntimeException 異常不應該通過catch 的方式來處理，比如:NullPointerException，IndexOutOfBoundsException 等等。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例</span><span style="color:#89DDFF;">:if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">obj </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{...}</span></span>
<span class="line"><span style="color:#A6ACCD;">反例</span><span style="color:#89DDFF;">:try</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;"> obj</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">method</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">catch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">NullPointerException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{...}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><p>（2）穩定/不穩定代碼： 【強制】catch 時請分清穩定代碼和非穩定代碼，穩定代碼指的是無論如何不會出錯的代碼。 對於非穩定代碼的catch 盡可能進行區分異常類型，再做對應的異常處理。</p><p>（3）捕獲必須處理： 【強制】捕獲異常是為了處理它，不要捕獲了卻什麼都不處理而拋棄之，如果不想處理它，請 將該異常拋給它的調用者。最外層的業務使用者，必須處理異常，將其轉化為用戶可以理解的 內容。</p><p>（4）finally：</p><p>【強制】finally 塊必須對資源對象、流對象進行關閉，有異常也要做 try-catch。說明:如果 JDK7 及以上，可以使用 try-with-resources 方式。</p><p>【強制】不要在finally塊中使用return</p><p>（5）異常拋出問題： 【強制】定義時區分unchecked/checked 異常，避免直接拋出newRuntimeException()， 更不允許拋出Exception 或者 Throwable，應使用有業務含義的自定義異常。推薦業界已定義過的自定義異常，如:DAOException / ServiceException等。</p><h2 id="_1-9-日誌規約" tabindex="-1">1.9 日誌規約 <a class="header-anchor" href="#_1-9-日誌規約" aria-hidden="true">#</a></h2><p>（1）日誌框架：</p><p>【強制】不可以直接使用系統的日誌，要做一層封裝，有利於維護和修改。</p><p>【強制】謹慎記錄日誌</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">1</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">生產環境禁止輸出debug日誌。</span></span>
<span class="line"><span style="color:#A6ACCD;">2</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">謹慎使用日誌的級別。</span></span>
<span class="line"><span style="color:#A6ACCD;">3</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">儘量使用英文描述</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h1 id="_2-android基本組件" tabindex="-1">2. Android基本組件 <a class="header-anchor" href="#_2-android基本組件" aria-hidden="true">#</a></h1><h2 id="_2-1-基本組件" tabindex="-1">2.1 基本組件 <a class="header-anchor" href="#_2-1-基本組件" aria-hidden="true">#</a></h2><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">Application</span></span>
<span class="line"><span style="color:#C792EA;">Activity</span></span>
<span class="line"><span style="color:#C792EA;">Service</span></span>
<span class="line"><span style="color:#C792EA;">BrocastReceiver</span></span>
<span class="line"><span style="color:#C792EA;">ContentProvider</span></span>
<span class="line"><span style="color:#C792EA;">Fragment</span></span>
<span class="line"><span style="color:#89DDFF;">......</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_2-2-application" tabindex="-1">2.2 Application <a class="header-anchor" href="#_2-2-application" aria-hidden="true">#</a></h2><p>【強制】 onAttach()，onCreate()方法不要做耗時操作。</p><p>【強制】 Application內部不要存儲全局數據。</p><p>【推薦】 存在多進程的時候，需要判斷進程，然後進行初始化操作，避免多次調用。</p><p>【推薦】 長生命週期類，如果必須持有Context,建議持有Application。</p><h2 id="_2-3-activity" tabindex="-1">2.3 Activity <a class="header-anchor" href="#_2-3-activity" aria-hidden="true">#</a></h2><p>【強制】 所有的Activity 都必須 繼承自基類Activity，便於統一實現和管理。</p><p>【強制】 Activity間的數據通信，對於數據量教大的，避免使用intent+Parcelable的方式，可以考慮EventBus等替代方案，以免造成TransactionTooLargeException。</p><p>【強制】 Activity 間通過隱式 Intent 的跳轉，在發出 Intent 之前必須通過 resolveActivity檢查，避免找不到合適的調用組件，造成 ActivityNotFoundException 的異常。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">正例：</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">viewUrl</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> url</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> mimeType</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">Intent</span><span style="color:#A6ACCD;"> intent </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Intent</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Intent</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">ACTION_VIEW</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        intent</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setDataAndType</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Uri</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> mimeType</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#82AAFF;">getPackageManager</span><span style="color:#89DDFF;">().</span><span style="color:#82AAFF;">resolveActivity</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">intent</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> PackageManager</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">MATCH_DEFAULT_ ONLY</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">!=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">try</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#82AAFF;">startActivity</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">intent</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">catch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">ActivityNotFoundException</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Config</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">LOGD</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                    Log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">d</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">LOGTAG</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">activity not found for </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> mimeType </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;"> over </span><span style="color:#89DDFF;">&quot;</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">+</span><span style="color:#A6ACCD;"> Uri</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">parse</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">url</span><span style="color:#89DDFF;">).</span><span style="color:#82AAFF;">getScheme</span><span style="color:#89DDFF;">(),</span><span style="color:#A6ACCD;"> e</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">反例：</span></span>
<span class="line"><span style="color:#C792EA;">Intent</span><span style="color:#A6ACCD;"> intent </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Intent</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">intent</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setAction</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">com.great.activity_intent.Intent_Demo1_Result3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br></div></div><p>【強制】 内存洩漏問題：Activity中動態註冊 BroadCastReceiver 時，registerReceiver()和 unregisterReceiver()要成對出現。</p><p>【推薦】 不要在Activity#onDestory()內執行釋放資源的工作，例如一些工作線程的銷毀和停止，因為onDestory()執行的時機可能較晚。可根據實際需要，在Activity#onPause/onStop()中結合isFinishing()的判斷去執行。</p><p>【推薦】 當前 Activity 的 onPause 方法執行結束後才會執行下一個 Activity 的 onCreate方法，所以在 onPause方法中不適合做耗時較長的工作，這會影響到頁面之間的跳轉效率。</p><h2 id="_2-4-service" tabindex="-1">2.4 Service <a class="header-anchor" href="#_2-4-service" aria-hidden="true">#</a></h2><p>【強制】避免在 Service#onStartCommand()/onBind()方法中執行耗時操作，如果確實有需求，應改用IntentService 或採用其他非同步機制完成。</p><p>【推薦】總是使用顯式Intent啟動或者綁定Service，且不要為服務聲明IntentFilter， 保證應用的安全性。</p><h2 id="_2-5-broadcastreceiver" tabindex="-1">2.5 BroadcastReceiver <a class="header-anchor" href="#_2-5-broadcastreceiver" aria-hidden="true">#</a></h2><p>【強制】避免在 BroadcastReceiver#onReceive()中執行耗時操作，如果有耗時工作， 應該創建IntentService 完成，而不應該在 BroadcastReceiver 內創建子線程去做。</p><p>【推薦】避免使用隱式 Intent 廣播敏感信息，信息可能被其他註冊了對應BroadcastReceiver 的 App 接收。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">說明：如果廣播僅限於應用內，則可以使用 </span><span style="color:#82AAFF;">LocalBroadcastManager的sendBroadcast</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">實現，避免敏感信息外泄和 Intent 攔截的風險。</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">Intent</span><span style="color:#A6ACCD;"> intent </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Intent</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">my-sensitive-event</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">intent</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">putExtra</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">event</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">this is a test event</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">LocalBroadcastManager</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getInstance</span><span style="color:#89DDFF;">(this).</span><span style="color:#82AAFF;">sendBroadcast</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">intent</span><span style="color:#89DDFF;">);</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_2-6-contentprovider" tabindex="-1">2.6 ContentProvider <a class="header-anchor" href="#_2-6-contentprovider" aria-hidden="true">#</a></h2><p>【強制】不要在onCreate()方法做耗時操作，會影響應用的啟動。</p><p>【推薦】儘量不去創建ContentProvider,會影響應用的啟動。</p><h2 id="_2-7-fragment" tabindex="-1">2.7 Fragment <a class="header-anchor" href="#_2-7-fragment" aria-hidden="true">#</a></h2><p>【推薦】添 加 Fragment 時 ， 確 保 FragmentTransaction#commit() 在Activity#onPostResume()或者 FragmentActivity#onResumeFragments()內調用，也可在onCreate()裏執行。 不要隨意使用FragmentTransaction#commitAllowingStateLoss()來代替，任何commitAllowingStateLoss()的使用必須經過 code review，確保無負面影響。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">Activity 可能因為各種原因被銷毀，Android 支持頁面被銷毀前通過</span></span>
<span class="line"><span style="color:#82AAFF;">Activity的onSaveInstanceState</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 保 存 自 己 的 狀 態 。</span></span>
<span class="line"><span style="color:#A6ACCD;">但 如 果 FragmentTransaction</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">commit</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">發生在 Activity 狀態保存之後，就會導致 Activity 重建、恢復狀態時無法還原頁面狀態，從而可能出錯。</span></span>
<span class="line"><span style="color:#A6ACCD;">為了避免給用戶造成不好的體 驗，系統會拋出 IllegalStateExceptionStateLoss 異常。</span></span>
<span class="line"><span style="color:#A6ACCD;">推薦的做法是在 Activity 的</span><span style="color:#82AAFF;">onPostResume</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> 或 </span><span style="color:#82AAFF;">onResumeFragments</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;"> 對 FragmentActivity </span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> 裏 執 行 FragmentTransaction</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">commit</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">，如有必要也可在 </span><span style="color:#82AAFF;">onCreate</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">裏執行。</span></span>
<span class="line"><span style="color:#A6ACCD;">不要隨意改用FragmentTransaction</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">commitAllowingStateLoss</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;">或者直接使用 </span><span style="color:#89DDFF;">try</span><span style="color:#A6ACCD;">-catch 避免crash，這不是問題的根本解決之道，當且僅當你確認 Activity 重建、恢復狀態時，本次commit 丟失不會造成影響時才可這麼做。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>【推薦】如非必須，避免使用嵌套的 Fragment。</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">1) onActivityResult()方法的處理錯亂，內嵌的 Fragment 可能收不到該方法的回調， 需要由宿主 Fragment 進行轉發處理;</span></span>
<span class="line"><span style="color:#A6ACCD;">2) 突變動畫效果;</span></span>
<span class="line"><span style="color:#A6ACCD;">3) 被繼承的 setRetainInstance()，導致在 Fragment 重建時多次觸發不必要的邏輯。</span></span>
<span class="line"><span style="color:#A6ACCD;">非必須的場景盡可能避免使用嵌套 Fragment，如需使用請注意上述問題。</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>【強制】内存洩漏問題：Fragment中動態註冊 BroadCastReceiver 時，registerReceiver()和 unregisterReceiver()要成對出現。</p><h2 id="_2-8-toast" tabindex="-1">2.8 Toast <a class="header-anchor" href="#_2-8-toast" aria-hidden="true">#</a></h2><p>【推薦】定義一個<strong>全局</strong>的 Toast 對象，這樣可以避免連續顯示Toast 時不能取消上一次 Toast 消息的情況</p><h1 id="_3-android文件命名與使用" tabindex="-1">3. Android文件命名與使用 <a class="header-anchor" href="#_3-android文件命名與使用" aria-hidden="true">#</a></h1><h2 id="_3-1-類名" tabindex="-1">3.1 類名 <a class="header-anchor" href="#_3-1-類名" aria-hidden="true">#</a></h2><table><thead><tr><th>類</th><th>描述</th><th>舉例說明</th></tr></thead><tbody><tr><td>Activity</td><td>Activity 作為後綴標識</td><td>MainActivity</td></tr><tr><td>Fragment</td><td>Fragment 作為後綴標識</td><td>HomeFragment</td></tr><tr><td>Service</td><td>Service作為後綴標識</td><td>DownloadService</td></tr><tr><td>BroadcastReceiver</td><td>Receiver作為後綴標識</td><td>MessageReceiver</td></tr><tr><td>ContentProvider</td><td>Provider 作為後綴標識</td><td>PushProvider</td></tr><tr><td>Adapter</td><td>Adapter 作為後綴標識</td><td>HotelListAdapter</td></tr><tr><td>解析類</td><td>Parser 作為後綴標識</td><td>XmlParser</td></tr><tr><td>工具方法類</td><td>Utils/Manager作為後綴標識</td><td>SpUtils/LoginManager</td></tr><tr><td>數據庫</td><td>DBHelper作為後綴標識</td><td>MemberDbHelper</td></tr><tr><td>抽象類</td><td>Base/Abstract作為前綴</td><td>BaseActivity</td></tr><tr><td>接口</td><td>I作為前綴</td><td>IService</td></tr><tr><td>ViewModel</td><td>VM作為後綴標識</td><td>HomeVM</td></tr></tbody></table><h2 id="_3-2-前綴" tabindex="-1">3.2 前綴 <a class="header-anchor" href="#_3-2-前綴" aria-hidden="true">#</a></h2><p>【推薦】資源文件需帶模塊前。</p><h2 id="_3-3-layout" tabindex="-1">3.3 layout <a class="header-anchor" href="#_3-3-layout" aria-hidden="true">#</a></h2><p>【推薦】layout 文件的命名方式。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">Activity 的 layout 以 module_activity 開頭</span></span>
<span class="line"><span style="color:#A6ACCD;">Fragment 的 layout 以 module_fragment 開頭</span></span>
<span class="line"><span style="color:#A6ACCD;">Dialog 的 layout 以 module_dialog 開頭</span></span>
<span class="line"><span style="color:#A6ACCD;">Include 的 layout 以 module_include 開頭</span></span>
<span class="line"><span style="color:#A6ACCD;">ListView 的行 layout 以 module_list_item 開頭</span></span>
<span class="line"><span style="color:#A6ACCD;">RecyclerView 的 item layout 以 module_recycle_item 開頭</span></span>
<span class="line"><span style="color:#A6ACCD;">GridView 的行 layout 以 module_grid_item 開頭</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h2 id="_3-4-drawable" tabindex="-1">3.4 drawable <a class="header-anchor" href="#_3-4-drawable" aria-hidden="true">#</a></h2><p>【推薦】drawable 資源名稱以<strong>小寫單詞+下劃線</strong>的方式命名，根據解析度不同存放在不同的drawable 目錄下，建議只使用一套,例如 drawable-xhdpi。採用規則如下:</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">//模塊名_業務功能描述_控件描述_控件狀態限定詞</span></span>
<span class="line"><span style="color:#A6ACCD;">module_login_btn_pressed</span></span>
<span class="line"><span style="color:#A6ACCD;">module_tabs_icon_home_normal</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_3-5-anim" tabindex="-1">3.5 anim <a class="header-anchor" href="#_3-5-anim" aria-hidden="true">#</a></h2><p>【推薦】anim 資源名稱以<strong>小寫單詞+下劃線</strong>的方式命名，採用以下規則:</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">模塊名_邏輯名稱_[方向|序號]</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><p>【推薦】tween 動畫資源:盡可能以通用的動畫名稱命名</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">module_fade_in</span></span>
<span class="line"><span style="color:#A6ACCD;">module_fade_out</span></span>
<span class="line"><span style="color:#A6ACCD;">module_push_down_in</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><p>【推薦】frame 動畫資源:盡可能以模塊+功能命名+序號</p><div class="language- line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">module_loading_grey_001</span></span>
<span class="line"><span style="color:#A6ACCD;"></span></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h2 id="_3-6-color" tabindex="-1">3.6 color <a class="header-anchor" href="#_3-6-color" aria-hidden="true">#</a></h2><p>【推薦】color 資源使用#AARRGGBB 格式，寫入 module_colors.xml 文件中，命名格式採用以下規則:</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">//模塊名_邏輯名稱_顏色</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">color name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">module_btn_bg_color</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">#33b5e5e5</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">color</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_3-7-dimen" tabindex="-1">3.7 dimen <a class="header-anchor" href="#_3-7-dimen" aria-hidden="true">#</a></h2><p>【推薦】dimen 資源以小寫單詞+下劃線方式命名，寫入 module_dimens.xml 文件中， 採用以下規則:</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">//模塊名_描述信息</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">dimen name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">module_horizontal_line_height</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;">1dp</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">dimen</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_3-8-style" tabindex="-1">3.8 style <a class="header-anchor" href="#_3-8-style" aria-hidden="true">#</a></h2><p>【推薦】style 資源採用小寫單詞+下劃線方式命名，寫入 module_styles.xml 文件中， 採用以下規則:</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">//父 style 名稱.當前 style 名稱</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">style name</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ParentTheme.ThisActivityTheme</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#89DDFF;">...</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#A6ACCD;">style</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><h2 id="_3-9-string" tabindex="-1">3.9 string <a class="header-anchor" href="#_3-9-string" aria-hidden="true">#</a></h2><p>【推薦】string 資源文件或者文本用到的字符串需要全部寫入 module_strings.xml 文件中， 字符串以小寫單詞+下劃線的方式命名，採用以下規則:</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#676E95;">//模塊名_邏輯名稱</span></span>
<span class="line"><span style="color:#A6ACCD;">moudule_login_tips</span></span>
<span class="line"><span style="color:#A6ACCD;">module_homepage_notice_desc</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br></div></div><h2 id="_3-10-id" tabindex="-1">3.10 id <a class="header-anchor" href="#_3-10-id" aria-hidden="true">#</a></h2><p>【推薦】Id 資源原則上以駝峰法命名，View 組件的資源 id 需要以 View 的縮寫作為 前綴。常用縮寫表如下:</p><table><thead><tr><th>控件</th><th>縮寫</th></tr></thead><tbody><tr><td>LinearLayout</td><td>ll</td></tr><tr><td>RelativeLayout</td><td>rl</td></tr><tr><td>ConstraintLayout</td><td>cl</td></tr><tr><td>ListView</td><td>lv</td></tr><tr><td>ScrollView</td><td>sv</td></tr><tr><td>TextView</td><td>tv</td></tr><tr><td>Button</td><td>btn</td></tr><tr><td>ImageView</td><td>iv</td></tr><tr><td>CheckBox</td><td>cb</td></tr><tr><td>RadioButton</td><td>rb</td></tr><tr><td>EditText</td><td>et</td></tr><tr><td>RecyclerView</td><td>rv</td></tr></tbody></table><h2 id="_3-11-圖片" tabindex="-1">3.11 圖片 <a class="header-anchor" href="#_3-11-圖片" aria-hidden="true">#</a></h2><p _狀態="">【強制】圖片命名規則：圖片類型_邏輯名稱_功能名稱{_顏色}{_大小}</p><p>圖片類型：</p><table><thead><tr><th>中文名</th><th>名稱</th><th>縮寫</th></tr></thead><tbody><tr><td>背景</td><td>background</td><td>bg</td></tr><tr><td>圖標</td><td>icon</td><td>ic</td></tr><tr><td>文字</td><td>text</td><td>txt</td></tr></tbody></table><p>邏輯名稱：</p><table><thead><tr><th>中文名</th><th>名稱</th><th>縮寫</th></tr></thead><tbody><tr><td>按鈕</td><td>Button</td><td>btn</td></tr><tr><td>菜單</td><td>Menu</td><td>menu</td></tr><tr><td>標籤頁</td><td>Tab</td><td>tab</td></tr><tr><td>橫幅</td><td>Banner</td><td>banner</td></tr><tr><td>列表</td><td>List</td><td>list</td></tr><tr><td>列表子項</td><td>Item</td><td>item</td></tr><tr><td>佈局</td><td>Layout</td><td>layout</td></tr><tr><td>文本</td><td>TextView</td><td>tv</td></tr><tr><td>可編輯文本</td><td>EditText</td><td>et</td></tr><tr><td>進度條</td><td>ProgressBar</td><td>pb</td></tr><tr><td>拖動條</td><td>SeekBar</td><td>sb</td></tr></tbody></table><p>功能類型：</p><table><thead><tr><th>中文名</th><th>名稱</th><th>縮寫</th></tr></thead><tbody><tr><td>返回</td><td>back</td><td>back</td></tr><tr><td>支付</td><td>pay</td><td>pay</td></tr><tr><td>點擊</td><td>click</td><td>click</td></tr></tbody></table><p>【推薦】圖片建議統一放在 xxhdpi 目錄 下管理，否則將導致佔用內存成倍數增加</p><h1 id="_4-ui與佈局" tabindex="-1">4. UI與佈局 <a class="header-anchor" href="#_4-ui與佈局" aria-hidden="true">#</a></h1><h2 id="_4-1-ui線程" tabindex="-1">4.1 UI線程 <a class="header-anchor" href="#_4-1-ui線程" aria-hidden="true">#</a></h2><p>【強制】禁止在非 ui 線程進行 view 相關操作。</p><h2 id="_4-2-嵌套佈局" tabindex="-1">4.2 嵌套佈局 <a class="header-anchor" href="#_4-2-嵌套佈局" aria-hidden="true">#</a></h2><p>【強制】佈局中不得不使用 ViewGroup 多重嵌套時，不要使用 LinearLayout 嵌套， 改用 RelativeLayout，可以有效降低嵌套數。</p><p>【推薦】靈活使用佈局，推薦 Merge、ViewStub 來優化佈局，盡可能多的減少UI佈局層級，推薦使用 FrameLayout，LinearLayout、RelativeLayout 次之。</p><h2 id="_4-3-彈窗" tabindex="-1">4.3 彈窗 <a class="header-anchor" href="#_4-3-彈窗" aria-hidden="true">#</a></h2><p>【推薦】在 Activity 中顯示對話框或彈出浮層時，儘量使用 DialogFragment，而非Dialog/AlertDialog，這樣便於隨 Activity 生命週期管理對話框/彈出浮層的生命週期。</p><h2 id="_4-4-scrollview" tabindex="-1">4.4 ScrollView <a class="header-anchor" href="#_4-4-scrollview" aria-hidden="true">#</a></h2><p>【強制】不能使用 ScrollView 包裹 ListView/GridView/ExpandableListView;因為這樣會把ListView 的所有 Item 都加載到內存中，要消耗巨大的内存和 cpu 去繪製圖面。</p><h2 id="_4-5-過度渲染" tabindex="-1">4.5 過度渲染 <a class="header-anchor" href="#_4-5-過度渲染" aria-hidden="true">#</a></h2><p>【推薦】避免背景多重疊加。父ViewGroup使用白色背景，子View也使用白色背景。</p><h1 id="_5-進程、線程與消息通信" tabindex="-1">5. 進程、線程與消息通信 <a class="header-anchor" href="#_5-進程、線程與消息通信" aria-hidden="true">#</a></h1><h2 id="_5-1-多進程" tabindex="-1">5.1 多進程 <a class="header-anchor" href="#_5-1-多進程" aria-hidden="true">#</a></h2><p>【推薦】謹慎使用 Android 的多進程，多進程雖然能夠降低主進程的内存壓力，但會遇到如下問題:</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) 不能實現完全退出所有 Activity 的功能</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#F78C6C;">2</span><span style="color:#A6ACCD;">)首次進入新啟動進程的頁面時會有延時的現象</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">有可能黑屏、白屏幾秒，是白屏還是黑屏和新Activity 的主題有關</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#F78C6C;">3</span><span style="color:#A6ACCD;">)應用多進程時，Application實例化多次，需要考慮各個模塊是否都需要在所有進程中初始化。</span></span>
<span class="line"><span style="color:#F78C6C;">4</span><span style="color:#A6ACCD;">) 多進程間通過 SharedPreferences 共用數據時不穩定。</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br></div></div><p>【強制】在 Application 的業務初始化代碼加入進程判斷，確保只在自己需要的進程初始化。特別是後台進程減少不必要的業務初始化。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">MyApplication</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">extends</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">Application</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onCreate</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">//在所有進程中初始化 ....</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">//僅在主進程中初始化</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">mainProcess</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">        </span><span style="color:#676E95;">//僅在後臺進程中初始化</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">bgProcess</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br></div></div><p>【推薦】禁止在多進程之間用 SharedPreferences 共用數據，雖然可以(MODE_MULTI_PROCESS)，但官方已不推薦。</p><h2 id="_5-2-線程" tabindex="-1">5.2 線程 <a class="header-anchor" href="#_5-2-線程" aria-hidden="true">#</a></h2><p>【強制】子線程中不能更新界面，更新界面必須在主線程中進行。</p><p>【強制】網絡操作不能在主線程中調用，應放到線程池處理。</p><h2 id="_5-3-其他" tabindex="-1">5.3 其他 <a class="header-anchor" href="#_5-3-其他" aria-hidden="true">#</a></h2><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#F78C6C;">1</span><span style="color:#A6ACCD;">) 一、java語言規範 </span><span style="color:#F78C6C;">1.5</span><span style="color:#A6ACCD;"> 併發處理</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br></div></div><h1 id="_6-文件與數據庫" tabindex="-1">6. 文件與數據庫 <a class="header-anchor" href="#_6-文件與數據庫" aria-hidden="true">#</a></h1><h2 id="_6-1-sharedpreference" tabindex="-1">6.1 SharedPreference <a class="header-anchor" href="#_6-1-sharedpreference" aria-hidden="true">#</a></h2><p>【強制】SharedPreference 中只能存儲簡單數據類型(int、boolean、String 等)， 複雜數據類型建議使用文件、數據庫等其他方式存儲。</p><p>【推薦】SharedPreference 提交數據時，儘量使用 Editor#apply()，而非Editor#commit()。一般來講，僅當需要確定提交結果，並據此有後續操作時，才使用Editor#commit()。</p><h2 id="_6-2-文件" tabindex="-1">6.2 文件 <a class="header-anchor" href="#_6-2-文件" aria-hidden="true">#</a></h2><p>【強制】任何時候不要硬編碼文件路徑，請使用 Android 文件系統 API 訪問。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">android</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">os</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Environment#</span><span style="color:#82AAFF;">getExternalStorageDirectory</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">android</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">os</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Environment#</span><span style="color:#82AAFF;">getExternalStoragePublicDirectory</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">android</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Context#</span><span style="color:#82AAFF;">getFilesDir</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span></span>
<span class="line"><span style="color:#A6ACCD;">android</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">Context#</span><span style="color:#82AAFF;">getCacheDir</span><span style="color:#89DDFF;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">正例：</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">File</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getDir</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> alName</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#C792EA;">File</span><span style="color:#A6ACCD;"> file </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">File</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Environment</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getExternalStoragePublicDirectory</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">Environment</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;"> DIRECTORY_PICTURES</span><span style="color:#89DDFF;">),</span><span style="color:#A6ACCD;"> alName</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(!</span><span style="color:#A6ACCD;">file</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">mkdirs</span><span style="color:#89DDFF;">())</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">Log</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">e</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">LOG_TAG</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">Directory not created</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> file</span><span style="color:#89DDFF;">;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br></div></div><h2 id="_6-3-數據庫" tabindex="-1">6.3 數據庫 <a class="header-anchor" href="#_6-3-數據庫" aria-hidden="true">#</a></h2><p>【強制】多線程操作寫入數據庫時，需要使用事務，以免出現同步問題。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">insertUserData</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">SQLiteDatabase</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> userId</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> content</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">ContentValues</span><span style="color:#A6ACCD;"> cv </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ContentValues</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        cv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">put</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">userId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> userId</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        cv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">put</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">content</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> content</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">beginTransaction</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">try</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insert</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">TUserPhoto</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null,</span><span style="color:#A6ACCD;"> cv</span><span style="color:#89DDFF;">);</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 其他操作</span></span>
<span class="line"><span style="color:#A6ACCD;">            db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setTransactionSuccessful</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">catch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Exception</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#676E95;">// TODO</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">finally</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">endTransaction</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br></div></div><p>【強制】數據庫 Cursor 必須確保使用完後關閉，以免內存洩漏。</p><p>【推薦】大數據寫入數據庫時，請使用事務或其他能夠提高 I/O 效率的機制，保證執行速度。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">insertBulk</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">SQLiteDatabase</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">ArrayList</span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;">UserInfo</span><span style="color:#89DDFF;">&gt;</span><span style="color:#A6ACCD;"> users</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">beginTransaction</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">try</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">for</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#F78C6C;">0</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i </span><span style="color:#89DDFF;">&lt;</span><span style="color:#A6ACCD;"> users</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">size</span><span style="color:#89DDFF;">;</span><span style="color:#A6ACCD;"> i</span><span style="color:#89DDFF;">++)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                </span><span style="color:#C792EA;">ContentValues</span><span style="color:#A6ACCD;"> cv </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ContentValues</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">                cv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">put</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">userId</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> users</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">].</span><span style="color:#A6ACCD;">userId</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                cv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">put</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">content</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> users</span><span style="color:#89DDFF;">[</span><span style="color:#A6ACCD;">i</span><span style="color:#89DDFF;">].</span><span style="color:#A6ACCD;">content</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">                db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">insert</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">TUserPhoto</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">null,</span><span style="color:#A6ACCD;"> cv</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">           </span><span style="color:#676E95;">// 其他操作 db.setTransactionSuccessful(); } catch (Exception e) {</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">            </span><span style="color:#676E95;">// TODO } finally {</span></span>
<span class="line"><span style="color:#A6ACCD;">            db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">endTransaction</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span><span style="color:#89DDFF;">catch</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">Exception</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">e</span><span style="color:#89DDFF;">){</span></span>
<span class="line"></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br></div></div><p>【強制】執行 SQL 語句時，應使用 SQLiteDatabase#insert()、update()、delete()， 不要使用SQLiteDatabase#execSQL()，以免 SQL 注入風險。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">   </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">int</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">updateUserPhoto</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">SQLiteDatabase</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> userId</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> content</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">ContentValues</span><span style="color:#A6ACCD;"> cv </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">ContentValues</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        cv</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">put</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">content</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> content</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">String</span><span style="color:#89DDFF;">[]</span><span style="color:#A6ACCD;"> args </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#A6ACCD;">String</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">valueOf</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">userId</span><span style="color:#89DDFF;">)};</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">return</span><span style="color:#A6ACCD;"> db</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">update</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">TUserPhoto</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> cv</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">userId=?</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> args</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><h1 id="_7-安全" tabindex="-1">7. 安全 <a class="header-anchor" href="#_7-安全" aria-hidden="true">#</a></h1><h2 id="_7-1-log" tabindex="-1">7.1 Log <a class="header-anchor" href="#_7-1-log" aria-hidden="true">#</a></h2><p>【強制】不要敏感信息打印到 log 中。</p><p>【強制】禁止使用System.out輸出日誌。</p><h2 id="_7-2-webview" tabindex="-1">7.2 WebView <a class="header-anchor" href="#_7-2-webview" aria-hidden="true">#</a></h2><p>【強制】阻止 webView 通過 file:schema 方式訪問本地敏感數據。</p><p>【推薦】對於不需要使用 File 協議的應用，禁用 File 協議，顯式設置 webView. getSettings().setAllowFileAccess(false)，對於需要使用 File 協議的應用，禁止File協議調用 JavaScript，顯式設置 webView.getSettings().setJavaScriptEnabled(false)。</p><p>【推薦】Android WebView 組件加載網頁發生證書認證錯誤時,採用默認的處理方法 handler.cancel()，停止加載問題頁面。</p><p>說明: Android WebView 組件加載網頁發生證書認證錯誤時，會調用 WebViewClient 類的onReceivedSslError 方法，如果該方法實現調用了 handler.proceed()來忽略該證書錯誤，則會受到中間人攻擊的威脅，可能導致隱私洩漏.</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#A6ACCD;">mWebView</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setWebViewClient</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">WebViewClient</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Override</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">void</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">onReceivedSslError</span><span style="color:#89DDFF;">(</span><span style="color:#C792EA;">WebView</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">view</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">SslErrorHandler</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">handler</span><span style="color:#89DDFF;">,</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">SslError</span><span style="color:#A6ACCD;"> </span><span style="color:#A6ACCD;">error</span><span style="color:#89DDFF;">)</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">                handler</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">proceed</span><span style="color:#89DDFF;">();</span><span style="color:#A6ACCD;"> </span><span style="color:#676E95;">// 忽略 SSL 證書錯誤 }</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;">)</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br></div></div><p>【推薦】zip 中不建議允許../../file 這樣的路徑，可能被篡改目錄結構，造成攻擊。</p><p>說明:當zip 壓縮包中允許存在“../”的字串，攻擊者可以利用多個“../”在解壓時改變zip 文件存放的位置，當文件已經存在是就會進行覆蓋，如果覆蓋掉的文件是 so、dex 或者 odex 文件，就有可能造成嚴重的安全問題。</p><div class="language-java line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki"><code><span class="line"><span style="color:#89DDFF;"> </span><span style="color:#676E95;">//對重要的 Zip 壓縮包文件進行數字簽名校驗，校驗通過才進行解壓 String</span></span>
<span class="line"><span style="color:#A6ACCD;">         entryName </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> entry</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getName</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">entryName</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">contains</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">..</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            </span><span style="color:#89DDFF;">throw</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">new</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">Exception</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">unsecurity zipfile!</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span></code></pre><div class="line-numbers-wrapper"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br></div></div><h2 id="_7-4-adb" tabindex="-1">7.4 adb <a class="header-anchor" href="#_7-4-adb" aria-hidden="true">#</a></h2><p>【強制】將 android:allowbackup 屬性設置為 false，防止 adb backup 導出數據。</p><h2 id="_7-5-四大組件" tabindex="-1">7.5 四大組件 <a class="header-anchor" href="#_7-5-四大組件" aria-hidden="true">#</a></h2><p>【強制】Receiver/Provider 不能在毫無許可權控制的情況下，將 android:export 設置 為true。</p><p>【強制】不要廣播<strong>敏感</strong>信息，只能在本應用使用 <strong>LocalBroadcast</strong>，避免被別的應用收到，或者 setPackage 做限制。</p><h2 id="_7-6-文件" tabindex="-1">7.6 文件 <a class="header-anchor" href="#_7-6-文件" aria-hidden="true">#</a></h2><p>【強制】將所需要動態加載的文件放置在 apk 內部，或應用私有目錄中，如果應用必須要把所加載的文件放置在可被其他應用讀寫的目錄中(比如 sdcard)，建議對不可信的加載源進行完整性校驗和白名單處理，以保證不被惡意代碼注入。</p><h2 id="_7-7-錄屏" tabindex="-1">7.7 錄屏 <a class="header-anchor" href="#_7-7-錄屏" aria-hidden="true">#</a></h2><p>【推薦】Android5.0 以後安全性要求較高的應用應該使用 window.setFlag (LayoutParam.FLAG_SECURE)禁止錄屏。</p><h2 id="_7-8-加密" tabindex="-1">7.8 加密 <a class="header-anchor" href="#_7-8-加密" aria-hidden="true">#</a></h2><p>【強制】密鑰加密存儲或者經過變形處理後用於加解密運算，切勿硬編碼到代碼中。</p><p>【推薦】加密算法:使用不安全的 Hash 算法(MD5/SHA-1)加密信息，存在被破解的風險，建議使用 SHA-256 等安全性更高的 Hash 算法。</p><h2 id="_7-9-本地存储" tabindex="-1">7.9 本地存储 <a class="header-anchor" href="#_7-9-本地存储" aria-hidden="true">#</a></h2><p>【強制】本地不能明文存儲敏感信息。</p><h1 id="_8-其他" tabindex="-1">8. 其他 <a class="header-anchor" href="#_8-其他" aria-hidden="true">#</a></h1><h2 id="_8-1-緩存" tabindex="-1">8.1 緩存 <a class="header-anchor" href="#_8-1-緩存" aria-hidden="true">#</a></h2><p>【強制】每個緩存池的大小應該在合理的範圍，不能過多佔用内存。</p><h2 id="_8-2-圖片" tabindex="-1">8.2 圖片 <a class="header-anchor" href="#_8-2-圖片" aria-hidden="true">#</a></h2><p>【推薦】Png圖片可以統一換成Webp的格式，可以有效減少圖片的大小。</p></div></div></main><!--[--><!--]--><footer class="VPDocFooter" data-v-cfb513e0 data-v-21f75714><!----><div class="prev-next" data-v-21f75714><div class="pager" data-v-21f75714><!----></div><div class="pager" data-v-21f75714><a class="pager-link next" href="/code-specifications/h5/index.html" data-v-21f75714><span class="desc" data-v-21f75714>下一篇→</span><span class="title" data-v-21f75714>H5開發規範</span></a></div></div></footer><!--[--><!--]--></div></div></div></div></div><!----><!--[--><!--]--></div></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"aos_index.md\":\"bf25f15c\",\"gitflow_index.md\":\"ee4b9b27\",\"h5_app_app.md\":\"5670d01c\",\"h5_index.md\":\"3dd0b603\",\"index.md\":\"b88e584e\",\"ios_index.md\":\"ffcd334c\"}")</script>
    <script type="module" async src="/code-specifications/assets/app.f24e6be2.js"></script>
    
  </body>
</html>